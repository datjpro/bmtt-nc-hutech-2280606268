<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Caesar Cipher - Bảo Mật Thông Tin</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        min-height: 100vh;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        padding: 20px 0;
      }
      .main-container {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        padding: 3rem;
        backdrop-filter: blur(10px);
        margin-bottom: 2rem;
      }
      .page-header {
        text-align: center;
        margin-bottom: 3rem;
        position: relative;
      }
      .page-title {
        color: #2c3e50;
        font-weight: 700;
        font-size: 2.5rem;
        margin-bottom: 1rem;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      }
      .page-subtitle {
        color: #666;
        font-size: 1.1rem;
      }
      .back-btn {
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 50px;
        transition: all 0.3s ease;
      }
      .back-btn:hover {
        transform: translateY(-50%) scale(1.05);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        color: white;
      }
      .cipher-section {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-radius: 15px;
        padding: 2rem;
        margin-bottom: 2rem;
        border-left: 5px solid #4facfe;
      }
      .section-title {
        color: #2c3e50;
        font-weight: 600;
        font-size: 1.5rem;
        margin-bottom: 1.5rem;
        display: flex;
        align-items: center;
      }
      .section-icon {
        margin-right: 0.75rem;
        font-size: 1.5rem;
      }
      .encrypt-section .section-title {
        color: #007bff;
      }
      .decrypt-section .section-title {
        color: #28a745;
      }
      .decrypt-section {
        border-left-color: #28a745;
      }
      .form-label {
        font-weight: 600;
        color: #495057;
        margin-bottom: 0.5rem;
      }
      .form-control {
        border: 2px solid #e9ecef;
        border-radius: 10px;
        padding: 0.75rem 1rem;
        transition: all 0.3s ease;
        font-size: 1rem;
      }
      .form-control:focus {
        border-color: #4facfe;
        box-shadow: 0 0 0 0.2rem rgba(79, 172, 254, 0.25);
      }
      .btn-encrypt {
        background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
        border: none;
        padding: 0.75rem 2rem;
        border-radius: 50px;
        font-weight: 600;
        transition: all 0.3s ease;
      }
      .btn-encrypt:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(0, 123, 255, 0.3);
      }
      .btn-decrypt {
        background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%);
        border: none;
        padding: 0.75rem 2rem;
        border-radius: 50px;
        font-weight: 600;
        transition: all 0.3s ease;
      }
      .btn-decrypt:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(40, 167, 69, 0.3);
      }
      .result-section {
        background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
        border: 1px solid #c3e6cb;
        border-radius: 10px;
        padding: 1.5rem;
        margin-top: 1rem;
      }
      .result-title {
        color: #155724;
        font-weight: 600;
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
      }
      .result-text {
        background: white;
        border: 1px solid #c3e6cb;
        border-radius: 8px;
        padding: 1rem;
        font-family: monospace;
        font-size: 1.1rem;
        word-break: break-all;
        color: #155724;
      }
      .info-box {
        background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
        border: 1px solid #ffeaa7;
        border-radius: 10px;
        padding: 1.5rem;
        margin-top: 2rem;
      }
      .info-title {
        color: #856404;
        font-weight: 600;
        margin-bottom: 1rem;
      }
      .info-text {
        color: #856404;
        margin-bottom: 0;
      }
      @media (max-width: 768px) {
        .back-btn {
          position: static;
          transform: none;
          margin-bottom: 1rem;
        }
        .page-header {
          text-align: center;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="main-container">
        <!-- Header Section -->
        <div class="page-header">
          <a href="/" class="btn back-btn">
            <i class="fas fa-arrow-left me-2"></i>Quay lại
          </a>
          <h1 class="page-title">
            <i class="fas fa-key me-3"></i>CAESAR CIPHER
          </h1>
          <p class="page-subtitle">Thuật toán mã hóa dịch chuyển cổ điển</p>
        </div>

        <!-- Encryption Section -->
        <div class="cipher-section encrypt-section">
          <h2 class="section-title">
            <i class="fas fa-lock section-icon"></i>MÃ HÓA (ENCRYPTION)
          </h2>
          <form id="encryptForm">
            <div class="row">
              <div class="col-md-8">
                <div class="mb-3">
                  <label class="form-label">
                    <i class="fas fa-file-alt me-2"></i>Văn bản gốc (Plain
                    Text):
                  </label>
                  <input
                    type="text"
                    class="form-control"
                    id="plainText"
                    placeholder="Nhập văn bản cần mã hóa..."
                    required
                    autofocus
                  />
                </div>
              </div>
              <div class="col-md-4">
                <div class="mb-3">
                  <label class="form-label">
                    <i class="fas fa-key me-2"></i>Khóa (Key):
                  </label>
                  <input
                    type="number"
                    class="form-control"
                    id="encryptKey"
                    placeholder="Nhập khóa (0-25)"
                    min="0"
                    max="25"
                    required
                  />
                </div>
              </div>
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-primary btn-encrypt">
                <i class="fas fa-shield-alt me-2"></i>Mã hóa ngay
              </button>
            </div>
          </form>

          <!-- Encrypt Result -->
          <div id="encryptResult" class="result-section" style="display: none">
            <h5 class="result-title">
              <i class="fas fa-check-circle me-2"></i>Kết quả mã hóa:
            </h5>
            <div id="encryptedText" class="result-text"></div>
          </div>
        </div>

        <!-- Decryption Section -->
        <div class="cipher-section decrypt-section">
          <h2 class="section-title">
            <i class="fas fa-unlock section-icon"></i>GIẢI MÃ (DECRYPTION)
          </h2>
          <form id="decryptForm">
            <div class="row">
              <div class="col-md-8">
                <div class="mb-3">
                  <label class="form-label">
                    <i class="fas fa-file-code me-2"></i>Văn bản mã hóa (Cipher
                    Text):
                  </label>
                  <input
                    type="text"
                    class="form-control"
                    id="cipherText"
                    placeholder="Nhập văn bản đã mã hóa..."
                    required
                  />
                </div>
              </div>
              <div class="col-md-4">
                <div class="mb-3">
                  <label class="form-label">
                    <i class="fas fa-key me-2"></i>Khóa (Key):
                  </label>
                  <input
                    type="number"
                    class="form-control"
                    id="decryptKey"
                    placeholder="Nhập khóa (0-25)"
                    min="0"
                    max="25"
                    required
                  />
                </div>
              </div>
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-success btn-decrypt">
                <i class="fas fa-unlock-alt me-2"></i>Giải mã ngay
              </button>
            </div>
          </form>

          <!-- Decrypt Result -->
          <div id="decryptResult" class="result-section" style="display: none">
            <h5 class="result-title">
              <i class="fas fa-check-circle me-2"></i>Kết quả giải mã:
            </h5>
            <div id="decryptedText" class="result-text"></div>
          </div>
        </div>

        <!-- Information Box -->
        <div class="info-box">
          <h5 class="info-title">
            <i class="fas fa-info-circle me-2"></i>Thông tin về Caesar Cipher
          </h5>
          <p class="info-text">
            <strong>Caesar Cipher</strong> là một trong những thuật toán mã hóa
            cổ điển nhất, hoạt động bằng cách dịch chuyển mỗi ký tự trong bảng
            chữ cái theo một số vị trí cố định. Ví dụ: với khóa K=3, chữ 'A' sẽ
            thành 'D', chữ 'B' thành 'E'...
          </p>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Caesar Cipher functions
      function caesarEncrypt(text, shift) {
        return text.replace(/[a-zA-Z]/g, function (char) {
          const start = char <= "Z" ? 65 : 97;
          return String.fromCharCode(
            ((char.charCodeAt(0) - start + shift) % 26) + start
          );
        });
      }

      function caesarDecrypt(text, shift) {
        return caesarEncrypt(text, 26 - shift);
      }

      // Handle encryption form
      document
        .getElementById("encryptForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const plainText = document.getElementById("plainText").value;
          const key = parseInt(document.getElementById("encryptKey").value);

          if (plainText && key >= 0 && key <= 25) {
            const encrypted = caesarEncrypt(plainText, key);
            document.getElementById("encryptedText").textContent = encrypted;
            document.getElementById("encryptResult").style.display = "block";
          }
        });

      // Handle decryption form
      document
        .getElementById("decryptForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const cipherText = document.getElementById("cipherText").value;
          const key = parseInt(document.getElementById("decryptKey").value);

          if (cipherText && key >= 0 && key <= 25) {
            const decrypted = caesarDecrypt(cipherText, key);
            document.getElementById("decryptedText").textContent = decrypted;
            document.getElementById("decryptResult").style.display = "block";
          }
        });
    </script>
  </body>
</html>
